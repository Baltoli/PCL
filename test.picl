external @stdio

let B = 0 {
    fresh Y {
        fresh Z {
            (in @stdio(X) | end).(out @stdio X | out @stdio(7 + B))
        }
    }.
    fresh Y {
        out @stdio(Y)
    }.
    fresh Z {
        let A = Z {
            let C = @stdio {
                ((out C(A) | in C(Y)) | out C(1000))
            }
        }
    }
}
